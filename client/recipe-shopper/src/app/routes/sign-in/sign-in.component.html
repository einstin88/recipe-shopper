<div class="d-flex flex-column">
  <div
    class="align-self-center border border-dark rounded-4 forms"
  >
    <h3>Sign In to Recipee Shopping</h3>

    <div *ngIf="redirectPath.length > 1" class="alert alert-info m-2">
      Sign in to view recipe
    </div>

    <div *ngIf="errorMsg">
      <p class="alert alert-danger">
        {{ errorMsg }}
      </p>
      <p *ngIf="errorStatus == 400" class="alert alert-info">
        <a routerLink="/registration" class="alert-link">Register</a> for a new
        account to start Recipee Shopping!
      </p>
    </div>

    <form [formGroup]="signinForm" (ngSubmit)="processForm()">
      <div class="form-floating m-1 mt-3">
        <input
          type="text"
          id="username"
          formControlName="username"
          placeholder="username"
          class="form-control"
          [ngClass]="{ 'is-invalid': validateFormInput('username') }"
        />
        <label for="username">Username</label>
        <div *ngIf="validateFormInput('username')" class="invalid-feedback">
          Min. 4 characters
        </div>
      </div>

      <div class="form-floating m-1">
        <input
          type="password"
          id="password"
          formControlName="password"
          placeholder="password"
          class="form-control"
          [ngClass]="{ 'is-invalid': validateFormInput('password') }"
        />
        <label for="password">Password</label>
        <div *ngIf="validateFormInput('password')" class="invalid-feedback">
          Min. 4 characters
        </div>
      </div>
      <div class="m-2 d-flex flex-column">
        <button
          type="submit"
          [disabled]="signinForm.invalid"
          class="btn align-self-center"
          [ngClass]="{
            'btn-outline-secondary': signinForm.invalid,
            'btn-outline-primary': signinForm.valid
          }"
        >
          Log In
        </button>
      </div>
    </form>
  </div>
</div>
